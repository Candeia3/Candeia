<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=7">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="keywords" content="Óleo, Energia verde">
    <meta name="description" content="transforma óleo de cozinha descartado em oportunidade sustentável.">
    <title>Candeia</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <!-- PASSANDO RESPONSIVIDADE DIRETAMENTE NO LINK -->
    <link rel="stylesheet" href="../assets/css/styleSM.css" media="(max-width: 600px)">
    <link rel="stylesheet" href="../assets/css/styleMD.css" media="(min-width: 601px)">
    <link rel="stylesheet" href="../assets/css/styleLG.css" media="(min-width: 1025px)">    
    <link rel="shortcut icon" href="../assets/img/Candeia_icone.png" type="image/x-icon">
    <script src="../assets/js/script.js" defer></script>
</head>
<body>

    <!-- ========= CABEÇALHO ========= -->
    <header>
        <a href="../index.html"><img src="../assets/img/Candeia_logosfundo.png" alt="Logo Candeia" class="logo_header"></a>
        <!-- Checkbox para esconder e mostrar menu -->
        <input type="checkbox" id="menu_toggle">
        <nav>
            <ul>
                <label for="menu_toggle"><span></span><span></span></label>
                <a href="../index.html" class="img_menu"><img src="../assets/img/Candeia_logosfundo.png" alt="Logo Candeia"></a>
                <li><a href="../index.html">HOME</a></li>
                <li><a href="coleta.html">COLETA</a></li>
                <li><a href="descontos.html">DESCONTOS</a></li>
                <li><a href="infos.html">SAIBA MAIS</a></li>
                <li><a href="quemSomos.html">QUEM SOMOS</a></li>
                <li><a href="perfil.html">PERFIL</a></li>
            </ul>
        </nav>
        <!-- menu hamburguer -->
        <label for="menu_toggle" class="menu_btn"><span></span></label>
    </header> 

    <!-- ========= CORPO ========= -->
    <main id="login_cadastro">
        <!-- trocar formulários -->
        <input type="checkbox" id="consu_parse" class="hidden">
        <input type="checkbox" id="log_cad" class="hidden">
        <div class="logologin">
            <img src="../assets/img/logo_projeto.png" alt="logo Candeia">
        </div>
        <form>
            <!-- Consumidor login -->
            <div id="login_consumidor">
                <!-- cabeçalho do formulário -->
                <div class="top_form">
                    <h2>LOGIN</h2>
                    <label for="consu_parse">
                        <img src="../assets/img/trocar_btn.png" alt="botão trocar entre consumidor e parceiro" style="transform: scaleX(-1);">
                        <p>consumidor</p>
                    </label>
                </div>
                <!-- corpo do formulário -->
                <label for="email_login_consu">
                    <p>E-mail</p>
                    <input type="email" id="email_login_consu" name="email_login_consu" placeholder="Insira seu e-mail...">
                </label>
                <div id="erroemail_login_consu" class="erro"></div>
                <label for="senha_login_consu">
                    <p>Senha</p>
                    <input type="password" id="senha_login_consu" name="senha_login_consu" placeholder="Insira sua senha...">
                </label>
                <div id="errosenha_login_consu" class="erro"></div>
            </div>
            <!-- Parseiro login -->
            <div id="login_parseiro">
                <!-- cabeçalho do formulário -->
                <div class="top_form">
                    <h2>LOGIN</h2>
                    <label for="consu_parse">
                        <img src="../assets/img/trocar_btn.png" alt="botão trocar entre consumidor e parceiro">
                        <p>parseiro</p>
                    </label>
                </div>
                <!-- corpo do formulário -->
                <label for="email_login_parse">
                    <p>E-mail</p>
                    <input type="email" id="email_login_parse" name="email_login_parse" placeholder="Insira seu e-mail...">
                </label>
                <div id="erroemail_login_parse" class="erro"></div>
                <label for="senha_login_parse">
                    <p>Senha</p>
                    <input type="password" id="senha_login_parse" name="senha_login_parse" placeholder="Insira sua senha..."> 
                </label>
                <div id="errosenha_login_parse" class="erro"></div>
            </div>
            <!-- Consumidor cadastro -->
            <div id="cadastro_consumidor">
                <!-- cabeçalho do formulário -->
                <div class="top_form">
                    <h2>CADASTO</h2>
                    <label for="consu_parse">
                        <img src="../assets/img/trocar_btn.png" alt="botão trocar entre consumidor e parceiro" style="transform: scaleX(-1);">
                        <p>consumidor</p>
                    </label>
                </div>
                <!-- corpo do formulário -->
                <label for="nome_consu">
                    <p>Nome</p>
                    <input type="text" id="nome_consu" name="nome_consu" placeholder="Insira seu nome...">
                </label>
                <div id="erronome_consu" class="erro"></div>
                <label for="email_cadastro_consu">
                    <p>E-mail</p>
                    <input type="email" id="email_cadastro_consu" name="email_cadastro_consu" placeholder="Insira seu e-mail...">
                </label>
                <div id="erroemail_cadastro_consu" class="erro"></div>
                <label for="cpf">
                    <p>CPF</p>
                    <input type="text" id="cpf" name="cpf" placeholder="Insira seu CPF...">
                </label>
                <div id="errocpf" class="erro"></div>
                <label for="senha_cadastro_consu">
                    <p>Senha</p>
                    <input type="password" id="senha_cadastro_consu" name="senha_cadastro_consu" placeholder="Insira sua senha...">
                </label>
                <div id="errosenha_cadastro_consu" class="erro"></div>
                <label for="confirmarSenha_consu">
                    <p>Confirmar senha</p>
                    <input type="password" id="confirmarSenha_consu" name="confirmarSenha_consu" placeholder="Confirme sua senha...">
                </label>
                <div id="erroconfirmarSenha_consu" class="erro"></div>
            </div>
            <div id="cadastro_parseiro" >
                <!-- cabeçalho do formulário -->
                <div class="top_form">
                    <h2>CADASTO</h2>
                    <label for="consu_parse">
                        <img src="../assets/img/trocar_btn.png" alt="botão trocar entre consumidor e parceiro">
                        <p>parseiro</p>
                    </label>
                </div>
                <!-- corpo do formulário -->
                <label for="nome_parse">
                    <p>Nome</p>
                    <input type="text" id="nome_parse" name="nome_parse" placeholder="Insira seu nome...">
                </label>
                <div id="erronome_parse" class="erro"></div>
                <label for="email_cadastro_perse">
                    <p>E-mail</p>
                    <input type="email" id="email_cadastro_perse" name="email_cadastro_perse" placeholder="Insira seu e-mail...">
                </label>
                <div id="erroemail_cadastro_parse" class="erro"></div>
                <label for="cnpj">
                    <p>CNPJ</p>
                    <input type="text" id="cnpj" name="cnpj" placeholder="Insira seu CNPJ...">
                </label>
                <div id="errocnpj" class="erro"></div>
                <label for="senha_cadastro_parse">
                    <p>Senha</p>
                    <input type="password" id="senha_cadastro_parse" name="senha_cadastro_parse" placeholder="Insira sua senha...">
                </label>
                <div id="errosenha_cadastro_parse" class="erro"></div>
                <label for="confirmarSenha_parse">
                    <p>Confirmar senha</p>
                    <input type="password" id="confirmarSenha_parse" name="confirmarSenha_parse" placeholder="Confirme sua senha...">
                </label>
                <div id="erroconfirmarSenha_parse" class="erro"></div>
            </div>
            <label for="manter_logado" class="manter_logado">
                <p>Manter logado?</p>
                <input type="checkbox" id="manter_logado">
            </label>
            <div id="erro" class="erro"></div>
            <button type="button" onclick="validarLogin()" id="btnLogin">LOGAR</button>
            <button type="button" onclick="validarCadastro()" id="btnCadastro">CADASTRAR</button>
            <div class="opcoes">
                <label for="log_cad" class="clicavel">Não tenho uma conta</label>
                <a href="coleta.html">Não me logar</a>
            </div>
        </form>
    </main>

    <!-- ========= RODAPÉ ========= -->
    <footer>
        <div class="cols">
            <div class="col1">
                <p>Candeia</p>
                <p>Iluminando o caminho para um futuro sustentável por meio da transformação de resíduos em energia limpa.</p>
            </div>
            <div class="col2">
                <a href="../index.html">
                    <img src="../assets/img/logo_footer.png" alt="logo Candeia">
                </a>
                <div class="social_medias">
                    <a href="https://github.com/Candeia3" target="_blank">
                        <img src="../assets/img/github_icone_footer.png" alt="icone do github">
                    </a>
                    <a href="mailto:projetocandeia3@gmail.com" target="_blank">
                        <img src="../assets/img/email_icone_footer.png" alt="icone do e-mail">
                    </a>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p>© copyright 2024 Candeia - Todos os direitos reservados.</p>
        </div>
    </footer>
</body>
<!-- Script local para não quebrar no github pages -->
<script>
    /* Validação de usuário */
    var erro = document.getElementById('erro');
    var manterLogado = document.getElementById('manter_logado');
    if (sessionStorage.getItem('msgErro') == '1') {
        erro.innerText = 'Realize o login para acessar o perfil';
    }
    function validarLogin() {
        if (tipoUsuario.checked) {
            var email = document.getElementById('email_login_parse');
            var senha = document.getElementById('senha_login_parse');
            var erroEmail = document.getElementById('erroemail_login_parse');
            var erroSenha = document.getElementById('errosenha_login_parse');
        }else {
            var email = document.getElementById('email_login_consu');
            var senha = document.getElementById('senha_login_consu');
            var erroEmail = document.getElementById('erroemail_login_consu');
            var erroSenha = document.getElementById('errosenha_login_consu');
        }
        sessionStorage.setItem('msgErro','0');
        erro.innerText = '';

        if (email.value == '') {
            erro.innerText = '';
            erroEmail.innerText = 'Campo "e-mail" obrigatório';
            email.focus();
        }else {
            erroEmail.innerText = ""
            if(senha.value == ''){
                erroSenha.innerText = 'Campo "Senha" obrigatório';
                senha.focus();
            }else {
                erroSenha.innerText = ""
                if(email.value == localStorage.getItem('email') && senha.value == localStorage.getItem('senha')) {
                    if(manterLogado.checked) {
                        localStorage.setItem('logado','true');
                    }else {
                        sessionStorage.setItem('logado','true');
                    }
                    window.location.href = 'coleta.html';
                }else {
                    erro.innerText = "Email e/ou senha incorretos!"
                    senha.focus();
                }
            }
        }
    }
    function validarCadastro() {
        if (tipoUsuario.checked) {
            var nome = document.getElementById('nome_parse');
            var email = document.getElementById('email_cadastro_parse');
            var cnpj_cpf = document.getElementById('cnpj');
            var senha = document.getElementById('senha_cadastro_parse');
            var confirmarSenha = document.getElementById('confirmarSenha_parse');
            var erroNome = document.getElementById('erronome_parse');
            var erroEmail = document.getElementById('erroemail_cadastro_parse');
            var erroCnpj_Cpf = document.getElementById('errocnpj');
            var erroSenha = document.getElementById('errosenha_cadastro_parse');
            var erroConfirmarSenha = document.getElementById('erroconfirmarSenha_parse');
        }else {
            var nome = document.getElementById('nome_consu');
            var email = document.getElementById('email_cadastro_consu');
            var cnpj_cpf = document.getElementById('cpf');
            var senha = document.getElementById('senha_cadastro_consu');
            var confirmarSenha = document.getElementById('confirmarSenha_consu');
            var erroNome = document.getElementById('erronome_consu');
            var erroEmail = document.getElementById('erroemail_cadastro_consu');
            var erroCnpj_Cpf = document.getElementById('errocpf');
            var erroSenha = document.getElementById('errosenha_cadastro_consu');
            var erroConfirmarSenha = document.getElementById('erroconfirmarSenha_consu');
        }
        
        sessionStorage.setItem('msgErro','0');
        erro.innerText = '';
        
        if (nome.value == ''){
            erro.innerText = '';
            erroNome.innerText = 'Campo "nome" obrigatório';
            nome.focus();
        }else {
            erroNome.innerText = '';
            if (email.value == ''){
                erroEmail.innerText = 'Campo "e-mail" obrigatório';
                email.focus();
            }else {
                erroEmail.innerText = "";
                if (cnpj_cpf.value == '') {
                    erroCnpj_Cpf.innerText = 'Campo "CPF/CNPJ" obrigatório';
                    cnpj_cpf.focus();
                } else {
                    erroCnpj_Cpf.innerText = "";
                    if(senha.value == ''){
                        erroSenha.innerText = 'Campo "Senha" obrigatório';
                        senha.focus();
                    }else {
                        erroSenha.innerText = "";
                        if(confirmarSenha.value == ''){
                            erroConfirmarSenha.innerText = 'Confirme sua senha ';
                            confirmarSenha.focus();
                        }else {
                            erroConfirmarSenha.innerText = "";
                            if (senha.value != confirmarSenha.value){
                                erroConfirmarSenha.innerText = 'Senhas não conferem';
                                confirmarSenha.focus();
                            }else {
                                erroConfirmarSenha.innerText = '';
                                if(manterLogado.checked){
                                    localStorage.setItem('logado','true');
                                }else {
                                    sessionStorage.setItem('logado','true');
                                }
                                localStorage.setItem('nome', nome.value);
                                localStorage.setItem('email', email.value);
                                localStorage.setItem('cnpj_cpf', cnpj_cpf.value);
                                localStorage.setItem('senha', senha.value);
                                window.location.href = 'coleta.html';
                            }
                        }
                    }
                }
            }
        }
    }
</script>
</html>